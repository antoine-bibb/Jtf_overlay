:root{
  --bg:#0f0f12;
  --red:#7a0000;
  --gold:#c9a227;
  --panel:#151518;
  --text:#ffffff;
  --muted:#aaaaaa;

  /* Audio reactive (0.0 to 1.0) */
  --mic: 0.0;

  /* Computed glow strength (B = moderate) */
  --glow: calc(10px + (22px * var(--mic)));
}

/* reset */
*{ box-sizing:border-box; }
body{ margin:0; background:transparent; font-family: Arial, sans-serif; overflow:hidden; }

/* animated cinematic bg */
.bg{
  position:fixed; inset:-50%;
  background: radial-gradient(circle at center, rgba(122,0,0,0.25), transparent 70%);
  animation: moveBg 25s infinite alternate linear;
  z-index:-2;
}
@keyframes moveBg { 0%{ transform:translate(-5%,-5%);} 100%{transform:translate(5%,5%);} }

/* subtle grain */
.grain{
  position:fixed; inset:0;
  background-image: repeating-linear-gradient(
    0deg,
    rgba(255,255,255,0.03),
    rgba(255,255,255,0.03) 1px,
    rgba(0,0,0,0.03) 1px,
    rgba(0,0,0,0.03) 2px
  );
  opacity:0.08; z-index:-1; pointer-events:none;
}

/* ===== shared header badge ===== */
.badges{
  position:absolute;
  top:18px; left:22px;
  display:flex; gap:10px; align-items:center;
  z-index:10;
}
.badge{
  padding:8px 12px;
  border:1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.35);
  color:white;
  letter-spacing:2px;
  font-weight:800;
  text-transform:uppercase;
  font-size:12px;
}
.badge.category{
  border-left:4px solid var(--gold);
}
.badge.episode{
  border-left:4px solid var(--red);
}

/* ===== ticker ===== */
.ticker{
  height:8vh;
  background:black; color:white;
  display:flex; align-items:center;
  overflow:hidden;
  border-top:3px solid var(--red);
}
.ticker.breaking{
  border-top:3px solid #ff2b2b;
}
.ticker-content{
  white-space:nowrap;
  animation: scroll 25s linear infinite;
  padding-left: 100%;
}
@keyframes scroll { 0%{ transform:translateX(0);} 100%{ transform:translateX(-200%);} }

/* ===== logo watermark ===== */
.logo-watermark{
  position:absolute;
  bottom:90px;
  right:40px;
  width:160px;
  opacity:0.95;
  pointer-events:none;
  filter: drop-shadow(0 0 var(--glow) rgba(255,0,0,0.75));
  animation: subtleFloat 6s infinite ease-in-out;
  z-index:10;
}
@keyframes subtleFloat { 0%{transform:translateY(0);} 50%{transform:translateY(-4px);} 100%{transform:translateY(0);} }

.logo-watermark.burst{
  animation: logoBurst 700ms ease-out 1, subtleFloat 6s infinite ease-in-out;
}
@keyframes logoBurst{
  0%{ transform:scale(0.92); filter: drop-shadow(0 0 0 rgba(255,0,0,0.0)); opacity:0.2; }
  55%{ transform:scale(1.06); filter: drop-shadow(0 0 28px rgba(255,0,0,0.95)); opacity:1; }
  100%{ transform:scale(1); filter: drop-shadow(0 0 var(--glow) rgba(255,0,0,0.75)); opacity:0.95; }
}

/* ===== breaking flash overlay ===== */
.break-flash{
  position:fixed; inset:0;
  background: rgba(255,0,0,0.0);
  pointer-events:none;
  z-index:999;
}
.break-flash.flash{
  animation: flash 420ms ease-out 1;
}
@keyframes flash{
  0%{ background: rgba(255,0,0,0.0); }
  35%{ background: rgba(255,0,0,0.22); }
  100%{ background: rgba(255,0,0,0.0); }
}

/* ===================== MAIN OVERLAY ===================== */
.overlay{
  display:flex;
  height:92vh;
  padding:30px;
  gap:25px;
}
.left-panel{ width:65%; position:relative; }
.right-panel{ width:35%; }

.camera-frame{
  height:85%;
  border:4px solid var(--red);
  box-shadow: 0 0 calc(12px + (16px * var(--mic))) rgba(122,0,0,0.55);
}

.lower-third{
  position:absolute;
  bottom:20px; left:20px;
  color:var(--text);
}
.lower-third.hidden{ display:none; }
.lower-third h1{ margin:0; font-size:42px; letter-spacing:1px; }
.lower-third p{ margin:0; color:var(--gold); }

.topic{
  background:var(--panel);
  color:var(--muted);
  padding:14px;
  margin-bottom:10px;
  border-left:4px solid transparent;
  transition: all .2s ease;
}
.topic.active{
  color:var(--text);
  border-left:4px solid var(--red);
  box-shadow: 0 0 calc(6px + (10px * var(--mic))) rgba(255,0,0,0.35);
}
.topic-number{
  font-size:12px;
  color:var(--gold);
  display:block;
  margin-bottom:5px;
  letter-spacing:1px;
}

.evidence-label{
  margin-top:14px;
  margin-bottom:8px;
  color:var(--gold);
  font-weight:800;
  letter-spacing:2px;
}
.evidence-box{
  border:4px solid var(--gold);
  height:220px;
  overflow:hidden;
  background:#111;
  position:relative;
}
.evidence-box img{
  width:100%;
  height:100%;
  object-fit:cover;
}
.evidence-box.zoom{
  position:fixed;
  left:60px;
  top:90px;
  width: 58vw;
  height: 70vh;
  z-index:200;
  box-shadow: 0 0 28px rgba(0,0,0,0.6);
}

/* ===================== SCREEN SHARE ===================== */
.share{
  display:flex;
  height:92vh;
  padding:30px;
  gap:25px;
}
.share-main{
  width:75%;
  border:4px solid var(--red);
  box-shadow: 0 0 calc(12px + (16px * var(--mic))) rgba(122,0,0,0.55);
  background: rgba(0,0,0,0.10);
}
.share-side{
  width:25%;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.reaction-frame{
  flex:1;
  border:4px solid var(--red);
  box-shadow: 0 0 calc(12px + (16px * var(--mic))) rgba(122,0,0,0.55);
  position:relative;
}
.live-dot{
  position:absolute; top:12px; right:12px;
  display:flex; align-items:center; gap:8px;
  color:white; font-weight:900; letter-spacing:2px;
}
.live-dot::before{
  content:""; width:10px; height:10px; border-radius:50%;
  background:#ff2b2b; box-shadow:0 0 10px rgba(255,0,0,0.9);
}
.reaction-tag{
  position:absolute; left:12px; bottom:10px;
  color:white; font-weight:900; letter-spacing:1px;
}
.reaction-tag small{
  display:block; color:var(--gold); font-weight:800; margin-top:2px;
}

/* ===================== START / BRB / END ===================== */
.fullscreen{
  width:100vw; height:100vh;
  display:flex; flex-direction:column;
  justify-content:center; align-items:center;
  gap:16px;
}
.big-logo{
  width:min(720px, 78vw);
  filter: drop-shadow(0 0 calc(18px + (18px * var(--mic))) rgba(255,0,0,0.85));
  animation: startPulse 3.6s infinite ease-in-out;
}
@keyframes startPulse{
  0%{ transform:scale(1); filter: drop-shadow(0 0 14px rgba(255,0,0,0.65)); }
  50%{ transform:scale(1.02); filter: drop-shadow(0 0 30px rgba(255,0,0,0.95)); }
  100%{ transform:scale(1); filter: drop-shadow(0 0 14px rgba(255,0,0,0.65)); }
}
.big-title{
  color:white;
  font-weight:900;
  letter-spacing:4px;
  text-transform:uppercase;
  font-size:48px;
}
.big-sub{
  color:var(--gold);
  font-weight:900;
  letter-spacing:2px;
  font-size:18px;
  text-transform:uppercase;
}

/* ===================== VERTICAL / CLIP SAFE ===================== */
.vertical{
  width:100vw; height:100vh;
  padding:30px;
  display:flex; flex-direction:column;
  gap:18px;
}
.vert-top{
  display:flex; justify-content:space-between; align-items:center;
}
.vert-cam{
  border:4px solid var(--red);
  height:58vh;
  box-shadow: 0 0 calc(12px + (16px * var(--mic))) rgba(122,0,0,0.55);
}
.vert-topics{
  display:grid;
  grid-template-columns: 1fr;
  gap:10px;
}
